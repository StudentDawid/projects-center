// ============================================
// SANKTUARIUM SOLMARA - Main Styles
// Religious Grimdark / Body Horror Theme
// ============================================

// ============================================
// Google Fonts Import
// ============================================
@import url('https://fonts.googleapis.com/css2?family=UnifrakturCook:wght@700&family=IM+Fell+English+SC&family=Courier+Prime:wght@400;700&family=Nosifer&family=Creepster&display=swap');

// ============================================
// CSS Variables
// ============================================
:root {
  // Solmar Theme Fonts
  --font-header-solmar: 'UnifrakturCook', cursive;
  --font-lore-solmar: 'IM Fell English SC', serif;
  --font-body-solmar: 'Courier Prime', monospace;

  // Cult Theme Fonts
  --font-header-cult: 'Nosifer', cursive;
  --font-lore-cult: 'Creepster', cursive;
  --font-body-cult: 'Courier Prime', monospace;

  // Textures
  --texture-noise: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.08'/%3E%3C/svg%3E");

  // Animation timings
  --pulse-duration: 2s;
  --glitch-duration: 0.3s;
}

// ============================================
// Material Design Icons Fix
// ============================================
.mdi,
.mdi::before,
.v-icon.mdi {
  font-family: 'Material Design Icons' !important;
}

// ============================================
// Global Reset & Base Styles
// ============================================
* {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  padding: 0;
  min-height: 100vh;
  overflow-x: hidden;
}

// ============================================
// Solmar Theme Styles
// ============================================
// Background texture overlay - only for main app container
.v-application.v-theme--solmar::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--texture-noise);
  pointer-events: none;
  z-index: 9999;
  mix-blend-mode: multiply;
  opacity: 0.5;
}

.v-theme--solmar {
  font-family: var(--font-body-solmar);

  // Typography
  h1,
  h2,
  h3,
  .text-h1,
  .text-h2,
  .text-h3 {
    font-family: var(--font-header-solmar) !important;
    letter-spacing: 0.05em;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
  }

  h4,
  h5,
  h6,
  .text-h4,
  .text-h5,
  .text-h6 {
    font-family: var(--font-lore-solmar) !important;
    letter-spacing: 0.02em;
  }

  // Grimdark Cards
  .v-card {
    background: linear-gradient(
      135deg,
      rgba(43, 39, 32, 0.95) 0%,
      rgba(28, 26, 22, 0.98) 100%
    ) !important;
    border: 1px solid rgba(197, 160, 89, 0.3) !important;
    box-shadow:
      inset 0 1px 0 rgba(197, 160, 89, 0.1),
      0 4px 16px rgba(0, 0, 0, 0.6) !important;
    position: relative;

    // Texture overlay for cards
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--texture-noise);
      mix-blend-mode: overlay;
      opacity: 0.3;
      pointer-events: none;
      border-radius: inherit;
      z-index: 0;
    }

    // Ensure card content is above the texture overlay
    > * {
      position: relative;
      z-index: 1;
    }
  }

  // Buttons
  .v-btn {
    font-family: var(--font-lore-solmar) !important;
    border: 1px solid rgba(197, 160, 89, 0.4);
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
    transition: all 0.2s ease;

    &:hover {
      border-color: rgba(197, 160, 89, 0.8);
      box-shadow: 0 0 12px rgba(197, 160, 89, 0.3);
    }

    &:active {
      transform: scale(0.98);
    }
  }

  // Progress bars - like ancient scrolls filling
  .v-progress-linear {
    background: rgba(28, 26, 22, 0.8) !important;
    border: 1px solid rgba(197, 160, 89, 0.2);

    .v-progress-linear__determinate {
      background: linear-gradient(
        90deg,
        #9a7a3d 0%,
        #c5a059 50%,
        #d4b068 100%
      ) !important;
    }
  }
}

// ============================================
// Cult Theme Styles
// ============================================
// Pulsing background effect - only for main app container
.v-application.v-theme--cult::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(
    ellipse at center,
    rgba(255, 64, 64, 0.05) 0%,
    transparent 70%
  );
  pointer-events: none;
  z-index: 9998;
  animation: cult-pulse var(--pulse-duration) ease-in-out infinite;
}

.v-theme--cult {
  font-family: var(--font-body-cult);

  // Typography
  h1,
  h2,
  h3,
  .text-h1,
  .text-h2,
  .text-h3 {
    font-family: var(--font-header-cult) !important;
    color: #ff4040 !important;
    text-shadow:
      0 0 10px rgba(255, 64, 64, 0.5),
      2px 2px 4px rgba(0, 0, 0, 0.8);
  }

  h4,
  h5,
  h6,
  .text-h4,
  .text-h5,
  .text-h6 {
    font-family: var(--font-lore-cult) !important;
  }

  // Flesh Cards
  .v-card {
    background: linear-gradient(
      135deg,
      rgba(45, 10, 10, 0.95) 0%,
      rgba(26, 5, 5, 0.98) 100%
    ) !important;
    border: 1px solid rgba(255, 64, 64, 0.3) !important;
    box-shadow:
      inset 0 1px 0 rgba(255, 64, 64, 0.1),
      0 4px 16px rgba(0, 0, 0, 0.6) !important;
    animation: flesh-pulse 3s ease-in-out infinite;
  }

  // Buttons
  .v-btn {
    font-family: var(--font-body-cult) !important;
    border: 1px solid rgba(255, 64, 64, 0.4);
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
    transition: all 0.2s ease;

    &:hover {
      border-color: rgba(255, 64, 64, 0.8);
      box-shadow: 0 0 16px rgba(255, 64, 64, 0.4);
    }
  }

  // Progress bars - like veins filling with blood
  .v-progress-linear {
    background: rgba(26, 5, 5, 0.8) !important;
    border: 1px solid rgba(255, 64, 64, 0.2);

    .v-progress-linear__determinate {
      background: linear-gradient(
        90deg,
        #8b0000 0%,
        #ff4040 50%,
        #ff6b6b 100%
      ) !important;
    }
  }
}

// ============================================
// Animations
// ============================================
@keyframes cult-pulse {
  0%,
  100% {
    opacity: 0.3;
    transform: scale(1);
  }
  50% {
    opacity: 0.6;
    transform: scale(1.02);
  }
}

@keyframes flesh-pulse {
  0%,
  100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.005);
  }
}

@keyframes glitch {
  0% {
    transform: translate(0);
    filter: hue-rotate(0deg);
  }
  20% {
    transform: translate(-2px, 2px);
    filter: hue-rotate(90deg);
  }
  40% {
    transform: translate(2px, -2px);
    filter: hue-rotate(180deg);
  }
  60% {
    transform: translate(-1px, -1px);
    filter: hue-rotate(270deg);
  }
  80% {
    transform: translate(1px, 1px);
    filter: hue-rotate(360deg);
  }
  100% {
    transform: translate(0);
    filter: hue-rotate(0deg);
  }
}

// Glitch effect class for demonic interactions
.glitch-effect {
  animation: glitch var(--glitch-duration) ease-in-out;
}

// ============================================
// Utility Classes
// ============================================
.grimdark-divider {
  height: 2px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    currentColor 20%,
    currentColor 80%,
    transparent 100%
  );
  opacity: 0.3;
  margin: 1rem 0;
}

.parchment-bg {
  background:
    var(--texture-noise),
    linear-gradient(135deg, #2b2720 0%, #1c1a16 100%);
}

.flesh-bg {
  background:
    var(--texture-noise),
    linear-gradient(135deg, #2d0a0a 0%, #1a0505 100%);
}

// Resource display styling
.resource-value {
  font-family: var(--font-body-solmar);
  font-size: 1.5rem;
  font-weight: 700;
  text-shadow: 0 0 8px currentColor;
}

// Click feedback
.click-ripple {
  position: relative;
  overflow: hidden;

  &::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
    transform: translate(-50%, -50%);
    border-radius: 50%;
    opacity: 0;
    transition: all 0.4s ease-out;
  }

  &:active::after {
    width: 200%;
    height: 200%;
    opacity: 1;
  }
}
